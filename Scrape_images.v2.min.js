javascript:const PAGE_RANGE=[];!async function(e){const n="vue-recycle-scroller wide-scroll ready direction-vertical",o="scroller wide-scroll",a="position";async function c(e){return await new Promise((t=>{setTimeout(t,e)}))}const i=await async function(e){const[i,s]=await async function(){document.getElementsByClassName(o)[0].scrollTo(0,0),document.getElementsByClassName(n)[0].scrollTo(0,0),await c(10);const e=new Set,i=40*Number(document.getElementsByClassName("item page-nav-item")[0].offsetHeight),s=document.getElementsByClassName(n)[0],l=s.scrollHeight+i;for(let n=0;n<=l;n+=i)await new Promise((e=>{t=setTimeout((function(t,n){t.scrollTo(0,n),e()}),5,s,n)})),await new Promise((t=>{setTimeout((function(){const n=document.querySelectorAll("["+a+"]");for(let t=0;t<n.length;t++)e.add(Number(n[t].getAttribute(a)));t()}))}));const m=[Math.min(...e),Math.max(...e)];return console.log("Pages range from "+m[0]+" to "+m[1]+"."),m}(),l=e[0]||i,m=e[1]||s,r=[];document.getElementsByClassName(o)[0].scrollTo(0,0),document.getElementsByClassName(n)[0].scrollTo(0,0),await c(10);for(let e=l;e<=m;e++){const t=document.querySelector("["+a+'="'+e+'"]');if(!t)throw new Error("Unable to find page: "+e);console.time("page-"+e),await new Promise((async n=>{console.log("Downloading page: "+e);let o=0;const a=document.createElement("canvas");for(t.click();;){if(o++,o>=400){console.error("Unable to download page: "+e);break}await c(25);const t=document.querySelector('[page="'+e+'"]');if(!t){if(document.getElementsByClassName("limited-container").length>0){console.timeEnd("page-"+e),e=m;break}continue}const n=t.parentElement.querySelector("canvas");if(!n)continue;const i=n.toDataURL("image/png");a.width=n.width,a.height=n.height;if(i!==a.toDataURL()){r.push([e,i]);break}}a.remove(),n()})),console.timeEnd("page-"+e)}return r}(e);await async function(e){document.body.innerHTML="",document.body.style="",document.head.innerHTML="";const t="Pages "+e[0][0]+" to "+e[e.length-1][0];document.head.title=t,document.body.attributes="";const n=document.createElement("style");n.innerHTML="html { height: 100%; } body { min-height: 100%; } img { max-height: 9.5in; max-width:7in; display: block; margin: 0 auto; object-fit: contain;}",document.head.append(n);const o=document.createElement("div");document.body.append(o);for(let t=0;t<e.length;t++){const n=document.createElement("div");document.body.append(n);const o=document.createElement("img");o.src=e[t][1],n.append(o)}}(i),console.log("Ready to print...")}(PAGE_RANGE);
